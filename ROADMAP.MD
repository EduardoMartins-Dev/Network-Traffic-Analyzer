# ğŸ—ºï¸ Roadmap: Network Traffic Analyzer (SOC Edition)

Este documento descreve a evoluÃ§Ã£o do projeto **Network Traffic Analyzer**. SaÃ­mos de um sniffer bÃ¡sico para uma arquitetura de microsserviÃ§os focada em detecÃ§Ã£o de intrusÃ£o (IDS) em tempo real.

---

## âœ… Fase 1: FundaÃ§Ã£o e Captura (The Sniffer)
**Objetivo:** Garantir a captura de pacotes brutos e interaÃ§Ã£o com a interface de rede.

- [x] **Hello World Libpcap:** InicializaÃ§Ã£o de dispositivo em modo promÃ­scuo e loop de captura.
- [x] **Filtros BPF:** ImplementaÃ§Ã£o de filtros para focar em protocolos de interesse (TCP/UDP/ICMP).
- [x] **AritmÃ©tica de Ponteiros:** LÃ³gica para "pular" cabeÃ§alhos e extrair dados formatados.

## âœ… Fase 2: Camada de Mensageria (Middleware)
**Objetivo:** Desacoplar a captura do armazenamento para garantir alta performance.

- [x] **Infraestrutura RabbitMQ:** ServiÃ§o rodando via Docker na porta 5674.
- [x] **SerializaÃ§Ã£o JSON:** IntegraÃ§Ã£o de lÃ³gica para converter pacotes em C para objetos JSON.
- [x] **Conector AMQP:** PublicaÃ§Ã£o assÃ­ncrona utilizando a biblioteca `librabbitmq`.

## ğŸ§  Fase 3: InteligÃªncia de SeguranÃ§a (IDS Engine)
**Objetivo:** Implementar lÃ³gica de anÃ¡lise comportamental para detecÃ§Ã£o de anomalias em nÃ­vel de kernel/user-space.

- [x] **Detector de Port Scan:** IdentificaÃ§Ã£o de varreduras baseada em limiar de portas Ãºnicas (TCP/UDP).
- [x] **Detector de DoS (ICMP Flood):** IdentificaÃ§Ã£o de inundaÃ§Ã£o de pings por segundo.
- [x] **Gerenciamento de Estado:** Tabela de IPs suspeitos com **Garbage Collection** (limpeza de memÃ³ria de IPs inativos).
- [ ] **DetecÃ§Ã£o de Stealth Scans:** Identificar flags TCP anÃ´malas (Null, Xmas, SYN/FIN).

## âš™ï¸ Fase 4: O Worker e PersistÃªncia (The Ingestor)
**Objetivo:** Consumo de mensagens em alta velocidade e gravaÃ§Ã£o em banco de dados Time Series.

- [x] **Python Data Ingestor:** MigraÃ§Ã£o da ingestÃ£o para Python para maior flexibilidade e tratamento de erros.
- [x] **InfluxDB Schema:** Mapeamento de `src_ip` e `protocol` como tags para buscas ultra-rÃ¡pidas.
- [x] **Ambiente Isolado:** ImplementaÃ§Ã£o de ambiente virtual (venv) para gestÃ£o de dependÃªncias Python.

## ğŸ“Š Fase 5: VisualizaÃ§Ã£o e OperaÃ§Ã£o (SOC Dashboard)
**Objetivo:** Transformar mÃ©tricas em inteligÃªncia visual para o analista.

- [x] **Grafana Integration:** ConexÃ£o Flux com InfluxDB funcionando.
- [ ] **Dashboards de AmeaÃ§as:** PainÃ©is de "Ataques em Tempo Real" que piscam em vermelho no `is_scan == 1`.
- [ ] **Alertas Ativos:** NotificaÃ§Ãµes automÃ¡ticas via Telegram ou Discord ao detectar scans crÃ­ticos.

## ğŸš€ Fase 6: Enriquecimento (Threat Intelligence) - PRÃ“XIMOS PASSOS
**Objetivo:** Adicionar contexto externo aos IPs capturados.

- [ ] **GeolocalizaÃ§Ã£o IP:** Integrar base MaxMind/GeoIP para mapear a origem geogrÃ¡fica dos ataques.
- [ ] **ReputaÃ§Ã£o Global:** Consultar APIs de Threat Intel (AbuseIPDB) para identificar IPs jÃ¡ reportados como maliciosos.
- [ ] **WHOIS Integration:** Identificar a qual organizaÃ§Ã£o ou provedor pertence o IP atacante.

## âš¡ Fase 7: Alta Performance (Enterprise Tuning)
**Objetivo:** Otimizar o sensor C para redes de alta densidade.

- [ ] **Multi-threading:** Separar captura, anÃ¡lise e publicaÃ§Ã£o em threads (`pthreads`) distintas.
- [ ] **Zero-Copy Capture:** Migrar de pcap padrÃ£o para AF_PACKET ou PF_RING para reduzir carga de CPU.

---
> *Este projeto evoluiu de um sensor acadÃªmico para uma arquitetura distribuÃ­da de defesa de rede.*
